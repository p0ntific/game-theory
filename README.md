Игра Гранди — это математическая игра, тесно связанная с известной игрой Ним. Она является частью области комбинаторных игр, которые изучаются в теории игр.

---

## Правила игры Гранди

- Игра начинается с одной или нескольких куч предметов (камней, спичек и т.д.).
- Ходят по очереди два игрока.
- На каждом ходе игрок выбирает любую кучу, содержащую хотя бы два предмета, и делит её на две неравные кучи. То есть, куча размера n делится на две кучи размеров k и n - k, где  0 < k < n  и  k < n - k .
- Кучи с единичным предметом (кучи размера 1) не могут быть разделены дальше.
- Игра заканчивается, когда игрок не может сделать ход (все кучи имеют размер 1).
- Побеждает игрок, сделавший последний ход, то есть тот, кто оставил противнику состояние, в котором нет возможных ходов.

---

## Определение победителя и теория игр в игре Гранди

Гранди-числа — это числовые значения, присвоенные позициям в игре, которые помогают определить оптимальную стратегию.

Основные понятия:

- Гранди-число (его ещё называют нимбер) для позиции — это минимальное неотрицательное целое число, не принадлежащее множеству гранди-чисел позиций, достижимых из данной позиции за один ход.

### Как использовать гранди-числа для определения победителя

1. Вычислить гранди-числа для всех куч в текущем состоянии игры.
2. Вычислить нимбер позиции, используя операцию XOR (исключающее ИЛИ) гранди-чисел всех куч:

nimber = grundy(heap_1) + grundy(heap_2) + ... grundy(heap_n)

3. Если нимбер позиции равен 0, то текущий игрок находится в проигрышной позиции при оптимальной игре противника.
4. Если нимбер позиции не равен 0, то существует ход, после которого нимбер новой позиции будет равен 0, что ставит противника в проигрышную позицию.

### Стратегия для победы

- Игрок должен стремиться к тому, чтобы после его хода нимбер позиции был равен 0.
- Это достигается путем разделения кучи таким образом, чтобы после операции XOR гранди-числа всех куч давали нуль.

---

## Пример расчёта гранди-чисел

- Гранди-числа для куч размера 0 и 1:
  grundy(0) = 0
  grundy(1) = 0

- Для куч большего размера гранди-числа вычисляются рекурсивно, основываясь на возможных ходах.

Пример:

- Куча размера 2:
  - Возможные разделения: (1,1)
  - Гранди-числа возможных позиций:
    grundy(1) + grundy(1) = 0 + 0 = 0
  - MEX-функция (Minimal Excludant) от множества 0 равна 1.
  - Тогда grundy(2) = 1.


Далее можно решить данную задачу в программировании, см. код на python
